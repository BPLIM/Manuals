Bootstrap: docker
From: ubuntu:20.04
IncludeCmd: yes


%files


%environment
   TZ=Europe/Lisbon


%labels

  Author         :: Miguel Portela -- BPLIM
  Version        :: Python and Jupyter - V1
  Build_date     :: November 21, 2022


%post

  apt update && apt-get update && DEBIAN_FRONTEND="noninteractive" TZ="Europe/London" apt-get -y install apt-transport-https apt-utils software-properties-common dirmngr curl wget python3-pip python3-dev python3-tk pandoc xkb-data x11-apps bzip2 qt5-default mesa-utils libgl1-mesa-dev libgl1-mesa-glx libegl1-mesa libxrandr2 libxss1 libxcursor1 libxcomposite1 libasound2 libxi6 libxtst6 iproute2 swig build-essential libnss3 net-tools unixodbc-dev git vim krb5-user libncurses5 libxml2-dev libsasl2-dev libldap2-dev libssl-dev libnlopt-dev gnupg gnupg2 unixodbc gfortran nano cmake libblas3 libblas-dev liblapack-dev liblapack3 aptitude xorg-dev libreadline-dev libpcre3-dev liblzma-dev libbz2-dev libcurl4-openssl-dev libmagick++-dev libhdf5-dev hdf5-helpers gsl-bin libgsl-dev libgsl23 libgslcblas0 libgdal-dev libproj-dev libnss3 libzmq3-dev libgtk2.0-0 texlive-latex-base


  # Install Python Packages

	apt install -y python3-pip
	python3 -m pip install -U pip
	python3 -m pip install -U setuptools

	pip3 install pandas numpy matplotlib plotly statistics statsmodels seaborn sympy scipy matplotlib-label-lines patsy pyarrow xlrd openpyxl pyreadstat bottleneck numexpr econtools jupyterlab

  # Node.js + npm

    apt-get update
    apt update
    apt install nodejs -y
    apt install npm -y
    nodejs --version
    npm --version

    npm cache clean -f
    npm install -g n
    n stable


  # Python Environment

    pip3 install pipenv
    pip3 install pew
    pip3 install PySimpleGUI==4.32.1 clipboard==0.0.4 pyperclip==1.8.1
    echo "source \$(pew shell_config)" >> /etc/bash.bashrc
    ln -s /usr/lib/x86_64-linux-gnu/libodbc.so /usr/lib/libodbc.so


  #  Firefox

    apt-get install -y firefox


      # Jupyter extensions

        pip3 install jupyter_contrib_nbextensions jupyter_nbextensions_configurator RISE
        jupyter contrib nbextensions install --system
        jupyter nbextensions_configurator enable --system


# CLEAN temporary files

    apt-get update
    apt-get autoremove
    apt-get autoclean
